<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipe</title>
</head>

<body>

    <script type="module">
        import { User } from './src/entities/User.js'
        import { Author } from './src/entities/Author.js'
        import { Storage } from './src/libs/Storage.js'
        import { UserRepository } from './src/repositories/UserRepositore.js'
        import { AuthorRepository } from './src/repositories/AuthorRepositore.js'

        const userStorage = new Storage('user');
        const ingredientStorage = new Storage('ingredient');
        const authorStorage = new Storage('author')
        // userStorage.save({
        //     name: 'jose',
        //     email: 'jose@jose.com',
        //     photo: 'jose.png'
        // })
        // userStorage.findOne('7f458572-89cd8e4c')
        //     .then(console.log)

        // ingredientStorage.save({
        //     name: 'cebolinha'
        // });
        // ingredientStorage.save({
        //     name: 'repolho'
        // })
        // ingredientStorage.save({
        //     name: 'pimenta'
        // })


        // const usuariosAll = await userStorage.findAll();
        // // console.table(usuariosAll)

        // const allIngredients = await ingredientStorage.findAll()

        // await ingredientStorage.findOneAndUpdate('67a6d3d3-29bea746', {
        //     name: 'Pimenta'
        // })

        // console.log(allIngredients);

        // await ingredientStorage.remove('76df4a6d-9e3a8c1a')

        const userRepository = new UserRepository(Storage);
        const authorRepository = new AuthorRepository(Storage);

        // const mariaAuthor = await authorRepository.save(
        //     new Author({
        //         recipes: [],
        //         userId: '4bf9aa25-7984a672'
        //     })

        // );

        const daniloUser = await userRepository.save(new User({
            name: 'Danilexxxxx',
            email: 'sadboy@sadboy.com',
            photo: 'sadboy.png'
        }))

        // const userJoao = await userRepository.getById('2b08c611-ebb35b11')
        // userJoao.photo = 'new_joao.png';

        // const newJoao = await userRepository.update(userJoao);

        // console.log(await userRepository.getAll());

    </script>
</body>

</html>